{% extends "base.html" %} {% block content %}
<div class="container-fluid mt-3">
  <div class="container">
    <h1 class="text-center">Portfolio Optimization</h1>
    <div class="row mt-3 justify-content-center">
      <div class="col-">
        <form action="{{ url_for('home') }}" method="post">
          <div class="row justify-content-center">
            <div class="col">
              <div class="form-group">
                <label class="" for="example-getting-started"
                  >Select Stock 1</label
                >
                <select class="form-control" name="stockOne">
                  {%for i in stocks%}
                  <option value="{{i}}">{{i}}</option>
                  {%endfor%}
                </select>
                <small class="form-text text-muted">Maximum 4 stocks</small>
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <label class="" for="example-getting-started"
                  >Select Stock 2</label
                >
                <select class="form-control" name="stockTwo">
                  {%for i in stocks%}
                  <option value="{{i}}">{{i}}</option>
                  {%endfor%}
                </select>
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <label class="" for="example-getting-started"
                  >Select Stock 3</label
                >
                <select class="form-control" name="stockThree">
                  {%for i in stocks%}
                  <option value="{{i}}">{{i}}</option>
                  {%endfor%}
                </select>
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <label class="" for="example-getting-started"
                  >Select Stock 4</label
                >
                <select class="form-control" name="stockFour">
                  {%for i in stocks%}
                  <option value="{{i}}">{{i}}</option>
                  {%endfor%}
                </select>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label class="" for="principleAmount">Principle amount</label>
            <input
              name="principleAmount"
              type="number"
              class="form-control"
              id="principleAmount"
              aria-describedby="principleAmountArea"
              placeholder="Enter principle amount"
            />
            <small id="principleAmountArea" class="form-text text-muted"
              >Enter the amount in USD</small
            >
            {% if ptype == 'empty' %}
            <small id="errorHelp" class="text-danger">
              {{ message }}
            </small>
            {% endif %}
          </div>
          <div class="row justify-content-center">
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>
      </div>
    </div>
    {% if ptype == 'submitted' %}
    <div class="row mt-3 justify-content-center">
      <div class="col text-center">
        <p>
          Principle allocation amount in {{stocks[0]}} : {{ princealloc_sr_A }}
        </p>
        <p>
          Principle allocation amount in {{stocks[1]}} : {{ princealloc_sr_B }}
        </p>
        <p>
          Principle allocation amount in {{stocks[2]}} : {{ princealloc_sr_B }}
        </p>
        <p>
          Principle allocation amount in {{stocks[3]}} : {{ princealloc_sr_B }}
        </p>
      </div>
    </div>
    {% endif %}
  </div>
  <div id="chart" style="height: 300px; width: 50%;"></div>
  <script>
    if (window.history.replaceState) {
      window.history.replaceState(null, null, window.location.href);
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <!-- <script type="text/javascript">
    window.onload = function () {
      var options = {
        chart: {
          type: "line",
        },
        series: [
          {
            name: "sales",
            data: [30, 40, 35, 50, 49, 60, 70, 91, 125],
          },
        ],
        xaxis: {
          categories: [1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999],
        },
      };

      var chart = new ApexCharts(document.querySelector("#chart"), options);

      chart.render();
    };
  </script> -->
</div>
{% endblock %}
